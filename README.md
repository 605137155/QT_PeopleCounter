# QT_PeopleCounter
项目介绍：人员计数项目

https://github.com/605137155/QT_PeopleCounter/assets/72680169/db1cbc58-307d-4a07-9637-c79d2d76c0e7

负责内容：

  1、将雷达采集的数据从串口接收并展示的QT开发
  
  2、软件的UI设计、测试

功能包括

  1、将来自雷达发送过来的帧数据解析为坐标(x,y)和种类(type)信息数据，并将其显示到widget窗口。
  
  2、支持的数据的拖影显示

难点：

  1、拖影实现

  2、点云数据与目标数据的实时并发显示

    帧的type有两种：pointcloud和target，分别为点云和目标。
    
    这些数据在传过来的时候，多数情况是点云和目标帧交叉传过来，也会有例外情况。

    【注意⚠⚠！】如果只是让它们按顺序显示，会发现widget窗口不显示点云，

    这是因为点云的数量多，绘制点云所需要的时间比绘制目标的时间多，又由于帧数据传过来的实时速度非常快，

    这导致绘制点云的update()事件被合并了，因此看不到点云的绘制，此时的解决方法是设置同步信号量paintDone、clusterReady等来控制绘制完点云才允许绘制目标
    
    [雷达能快速传输几乎等量的点云和目标且是交叉的，所以不用担心点云和目标帧数量不匹配出现一方等待另一方的情况]

    

  3、帧解析
    
    帧数据的大小端解析[大端模式为数据高位字节存储在低地址处，小端模式则相反]、
    
    帧校验[采用异或部分字段和取反，验证结果是否等于最后用于校验的8位字段]、
    
    强制转换和动态转换。 

  4、像素映射
    
    [坐标值映射为像素]
    
      通过知道minValue最小值和maxValue最大值所在的像素位置，即minPixel和maxPixel，
    
      然后即可根据【【valut】*【Pixel/单位值】+【minPixel】】来求得某个value对应所在的X或者Y方向的像素的位置。

    [像素映射为坐标值]

      同理。

    



