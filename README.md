# QT_PeopleCounter
项目介绍：人员计数项目

https://github.com/605137155/QT_PeopleCounter/assets/72680169/db1cbc58-307d-4a07-9637-c79d2d76c0e7

负责内容：

  1、将雷达采集的数据从串口接收并展示的QT开发
  
  2、软件的UI设计、测试

功能包括

  1、将来自雷达发送过来的帧数据解析为坐标(x,y)和种类(type)信息数据，并将其显示到widget窗口。
  
  2、支持目标数据的拖影显示

  3、目标的轨迹显示[另一个版本有，用二维数组维护每种目标的经过的点，以及绘制前后两个点的平滑连线即可，不过这可能会在后期绘制的点数过多而绘制缓慢]

难点：

  1、目标的拖影实现

    这里涉及目标的数据结构TargetQueue，里面保存了所有种类的目标队列，
    
    每采集一次目标会添加所有目标到队列[没采到的目标为空目标]，

    执行paintEvent的时候，对队列进行颜色深浅映射[队头浅队尾深，队尾目标是最新的]，即可看到拖影效果。

  2、点云数据与目标数据的实时并发显示

    帧的type有两种：pointcloud和target，分别为点云和目标，且它们不会同时被接收。
    
    这些数据在传过来的时候，多数情况是点云和目标帧交叉传过来，也会有例外情况。

    如果只有点云和目标帧数据，只有数据传过来的时候，窗口的数据才会发生改变，否则之前的数据会一直残留在表面[还好雷达是不错的，会一直有采集到数据]。
    
  3、帧解析
    
    帧数据的大小端解析[大端模式为数据高位字节存储在低地址处，小端模式则相反]、
    
    帧校验[采用异或部分字段和取反，验证结果是否等于最后用于校验的8位字段]、
    
    强制转换和动态转换。 

  4、像素映射
    
    [坐标值映射为像素]
    
      通过知道minValue最小值和maxValue最大值所在的像素位置，即minPixel和maxPixel，
    
      然后即可根据【【valut】*【Pixel/单位值】+【minPixel】】来求得某个value对应所在的X或者Y方向的像素的位置。

    [像素映射为坐标值]

      同理。

    



